!function(){function t(t,i,n){var e={},o=0,s=t.length;if(0==s)i.preLoaded=!0,n();else for(var r=0;s>r;r++){var h=new Image;h.onload=function(){o++,o===s&&(i.images=e,i.preLoaded=!0,n())},h.src=t[r],e[t[r]]=h}}window.Preloader=t}(),function(){function t(){}function i(t){for(var i in o)if(o.hasOwnProperty(i)&&o[i]===t)return i;return" "!=String.fromCharCode(t)?String.fromCharCode(t):void 0}function n(t,n){var o=i(t);o&&(e[o]=n)}var e={},o={SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};t.isPressedKey=function(t){return e[t]},window.addEventListener("keydown",function(t){n(t.keyCode,!0)}),window.addEventListener("keyup",function(t){n(t.keyCode,!1)}),window.addEventListener("blur",function(t){e={}}),window.Controls=t}(),function(){function t(t){this.image=t.image,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.delay=t.delay,this.loop=t.lopp||!1,this.delayCounter=0,this.frames=t.frames,this.frameIndex=0,this.animated=!1}function i(t,i){CTX.drawImage(t.image,i,0,t.width,t.height,t.x,t.y,t.width,t.height)}t.prototype.render=function(){i(this,0)},t.prototype.update=function(){this.frameIndex===this.frames-1?(this.loop||(this.animated=!0),this.frameIndex=0):this.delayCounter===this.delay&&(this.frameIndex++,this.delayCounter=0);var t=this.frameIndex*this.width;i(this,t),this.delayCounter++},window.Sprite=t}(),function(){function t(){}t.isCollided=function(t,i){return t.x+t.width>=i.x&&t.x<=i.x+i.width&&t.y>=i.y&&t.y<=i.y+i.height},window.Collision=t}(),function(){function t(){}t.text=function(t,i,n,e){CTX.font=e.font,CTX.fillStyle=e.color,e.textAlign&&(CTX.textAlign=e.textAlign),CTX.fillText(t,i,n)},window.Util=t}();var CTX;!function(){function t(t){this.canvas=document.querySelector(t.className),this.ctx=this.canvas.getContext("2d"),CTX=this.ctx,this.width=t.width,this.height=t.height,this.background=t.background||"#fff",this.images=[],this.events={},this.preLoaded=!1,this.fps=t.fps,this.canvas.focus()}function i(t){e(t),t.events.start&&t.events.start(),n(t)}function n(t){window.requestAnimationFrame(function(){n(t)}),r=Date.now(),a=r-h,a>o&&(h=r-a%o,t.clearCanvas(),e(t),t.events.update&&t.events.update())}function e(t){t.ctx.fillStyle=t.background,t.ctx.fillRect(0,0,t.width,t.height)}var o,s,r,h,a;t.prototype.init=function(){o=1e3/this.fps,h=Date.now(),s=h,this.preLoaded?i(this):this.events.preload&&this.events.preload()},t.prototype.bg=function(){e(this)},t.prototype.on=function(t,i){"function"==typeof i&&(this.events[t]=i)},t.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.width,this.height)},t.prototype.preload=function(t){var i=this;Preloader(t,this,function(){i.init()})},t.prototype.controls=window.Controls,t.prototype.sprite=window.Sprite,t.prototype.collision=window.Collision,t.prototype.text=window.Util.text,window.Maned=t,window.CTX=CTX}();